# Компилятор сообщества Pawn
[![Build Status][build_status_linux]][build_linux]
[![Build Status - Windows][build_status_win]][build_win]

## Что

Это модифицированная версия компилятора Pawn 3.2.3664, в которой исправлено множество ошибок и
улучшениями.

Этот проект был первоначально начат Zeex, но 2017-12-31 года проект был
был взят под контроль некоторыми членами сообщества SA:MP. Zeex по-прежнему вносит свой вклад в
вместе с командой [Compiler Team][team].

Оригинальное readme доступно [здесь][original_readme]

## Зачем

Этот проект существует для того, чтобы:

- Исправить известные ошибки оригинального компилятора
- Обеспечить лучший опыт разработки для сообщества SA:MP

Если вы обнаружили проблему, вы можете [открыть вопрос][issues], и разработчики смогут работать
над исправлением. Этого нельзя сказать об оригинальном компиляторе, который поставляется с дистрибутивом сервера SA:MP
дистрибутив сервера.

Также появились новые возможности, которые улучшают опыт разработки, например
подсказывает, какие теги участвуют в «несоответствии тегов», или показывает, где
где на самом деле объявлен этот досадный «символ никогда не используется».

Множество функций и исправлений задокументировано, ссылки см. ниже:

- [Known compiler bugs][bugs] содержит список ошибок, о которых известно команде.
  с указанием их статуса.

- [What's new][new] содержит список функций и других заметных изменений.

- [Release notes][релизы] список всех официальных релизов компилятора
  двоичные файлы.

## Как использовать

Бинарные пакеты можно загрузить с сайта [Releases][releases], см.
разделы для получения инструкций по установке для конкретной платформы.

**Примечание:** Вы _вероятно_ получите предупреждения/ошибки/фатальные ситуации при первой сборке
с этим компилятором - вам нужно добавить флаг `-Z` в конфигурацию сборки
или добавить `#pragma compat`. Дополнительную информацию см. на [этой странице][compat].

Вы также можете получить последние двоичные файлы разработки для Windows на
[AppVeyor][artifacts]. Этот архив собирается автоматически при каждом коммите Git
и может быть довольно нестабильным, поэтому используйте его на свой страх и риск.

### Windows

Если вы используете редактор, настроенный на запуск `pawncc`, такой как Pawno, Sublime Text
или VS Code, вы можете просто удалить существующий `pawncc.exe` и заменить его на
новым.

Скачайте ZIP-архив и извлеките `pawnc.dll`, `pawncc.exe`,
`pawndisasmsm.exe` в ваш исходный каталог `pawncc`. Если вы используете Pawno, это
будет находиться в папке `pawno/`, которая находится в каталоге вашего сервера.

### openSUSE

Для пользователей openSUSE доступен установочный пакет, чтобы вы
чтобы вы могли легко установить новейший компилятор на свой дистрибутив. Пожалуйста, выполните
следующие шаги:

1.  Перейдите на сайт https://build.opensuse.org/package/show/home:mschnitzer:pawncc/pawncc.
2.  Справа выберите свой дистрибутив (только если он не отключен!).
3.  Нажмите «Перейти к репозиторию загрузки».
4.  Скопируйте ссылку и введите в оболочке в режиме sudo:
    `zypper ar $COPIED_LINK home:mschnitzer:pawncc`.
5.  Снова в режиме root введите: `zypper ref`.
6.  Установите пакет с помощью `zypper in pawncc`.
7.  Запустите `pawncc` в вашей оболочке, чтобы проверить, работает ли он.

В репозитории для загрузки openSUSE доступны и более старые версии (самая старая
версия: 3.10.7). Просто установите понравившуюся вам версию (например:
`zypper in pawncc-3.10.8` и запустите ее через `$ pawncc-3.10.8 -Z -O3 [...]`).
Поддерживается параллельная установка.

### С помощью sampctl

Если вы являетесь пользователем [sampctl][sampctl], то вы уже используете этот компилятор!

### Сборка из исходного кода

Если вы хотите внести свой вклад или просто использовать определенную версию, посмотрите
на [этой странице][build_source] для получения инструкций по компиляции для вашей платформы.

## Предыстория

Изначально проект был начат как набор патчей, направленных на создание
компилятора, который был бы совместим с компилятором, используемым в
[SA-MP (San Andreas Multiplayer)](http://sa-mp.com/).

SA-MP использует модифицированную версию Pawn 3.2.3664 [1] с исполняемыми файлами только для Windows
исполняемые файлы, и разработчики заявили, что они потеряли исходный код для нее, что
Это означает, что ее нельзя перенести на другие платформы (например, Linux), а вновь обнаруженные
ошибки не могут быть исправлены. Поэтому основная цель проекта - воссоздать изменения
которые были сделаны разработчиками ранее, а также исправить все известные ошибки компилятора.

[1] Стоит отметить, что версия AMX, встроенная в сервер SA-MP.
похоже, основана на более старой версии Pawn.

[build_linux]: https://travis-ci.org/pawn-lang/compiler
[build_status_linux]: https://travis-ci.org/pawn-lang/compiler.svg?branch=master
[build_win]: https://ci.appveyor.com/project/Southclaws/compiler/branch/master
[build_status_win]:
  https://ci.appveyor.com/api/projects/status/k112tbr1afrkif0n?svg=true
[team]: https://github.com/pawn-lang/compiler/graphs/contributors
[original_readme]:
  https://github.com/pawn-lang/compiler/tree/master/readme_compuphase.txt
[issues]: https://github.com/pawn-lang/compiler/issues
[bugs]: https://github.com/pawn-lang/compiler/wiki/Known-compiler-bugs
[new]: https://github.com/pawn-lang/compiler/wiki/What's-new
[releases]: https://github.com/pawn-lang/compiler/releases
[artifacts]:
  https://ci.appveyor.com/project/Southclaws/compiler/branch/master/artifacts
[compat]: https://github.com/pawn-lang/compiler/wiki/Compatibility-mode
[sampctl]: http://bit.ly/sampctl
[build_source]: https://github.com/pawn-lang/compiler/wiki/Building-From-Source
